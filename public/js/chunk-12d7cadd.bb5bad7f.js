(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12d7cadd"],{a3ab:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",[a("v-toolbar",{attrs:{color:"toolbarColor",dense:"",dark:""}},[a("v-toolbar-title",[t._v("Gift Pack Details")]),a("v-spacer"),a("v-btn",{attrs:{text:"",to:"/gift-packs"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left")]),t._v("Back")],1)],1),a("v-card-text",[a("editor",{attrs:{action:t.action,initial:t.dataItem},on:{data:t.save}})],1)],1),a("snackbar",{ref:"snackbar"})],1)},o=[],c=(a("d3b7"),a("ae50")),s={components:{Editor:c["a"]},data:function(){return{action:"view",url:null,dataItem:{}}},watch:{"$route.params.url":{handler:"setUrl",immediate:!0}},methods:{setUrl:function(t){this.url=t},save:function(t){var e=this,a="/products/edit/".concat(this.dataItem._id),r=this;this.$store.dispatch("expressPut",{url:a,data:t}).then((function(t){t.state?location.reload():r.$refs.snackbar.show(t.msg,"red")})).finally((function(){location.reload()})).catch((function(t){e.$refs.snackbar.show(t,"red")}))},getData:function(){var t=this,e="/products/".concat(this.url),a=this;this.$store.dispatch("expressGet",e).then((function(t){t.state?a.dataItem=t.record:a.$refs.snackbar.show(t.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))}},created:function(){this.getData()}},i=s,n=a("2877"),l=a("6544"),d=a.n(l),u=a("8336"),v=a("b0af"),f=a("99d9"),m=a("a523"),h=a("132d"),p=a("2fa4"),g=a("71d9"),b=a("2a7f"),w=Object(n["a"])(i,r,o,!1,null,"a23a99b2",null);e["default"]=w.exports;d()(w,{VBtn:u["a"],VCard:v["a"],VCardText:f["c"],VContainer:m["a"],VIcon:h["a"],VSpacer:p["a"],VToolbar:g["a"],VToolbarTitle:b["a"]})},ae50:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{color:"red",label:"On Offer"},on:{change:t.changeOffer},model:{value:t.record.offer,callback:function(e){t.$set(t.record,"offer",e)},expression:"record.offer"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{color:"indigo",label:"Trending"},on:{change:t.changeTrending},model:{value:t.record.trending,callback:function(e){t.$set(t.record,"trending",e)},expression:"record.trending"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{color:"orange",label:"Clearance"},on:{change:t.changeClearance},model:{value:t.record.clearance,callback:function(e){t.$set(t.record,"clearance",e)},expression:"record.clearance"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Description",type:"text",autocomplete:"off",dense:""},model:{value:t.record.name,callback:function(e){t.$set(t.record,"name",e)},expression:"record.name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Alt Tag",type:"text",autocomplete:"off",dense:""},model:{value:t.record.alt_tag,callback:function(e){t.$set(t.record,"alt_tag",e)},expression:"record.alt_tag"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{autocomplete:"off",dense:"",items:t.categories,label:"Category","item-text":"name","item-value":"url"},on:{change:function(e){return t.autofillRecords(t.record.category_url)}},model:{value:t.record.category_url,callback:function(e){t.$set(t.record,"category_url",e)},expression:"record.category_url"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{autocomplete:"off",dense:"",items:t.subcategories,label:"Sub Category","item-text":"name","item-value":"url"},model:{value:t.record.subcategory_url,callback:function(e){t.$set(t.record,"subcategory_url",e)},expression:"record.subcategory_url"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{autocomplete:"off",dense:"",items:t.brands,label:"Brand","item-text":"name","item-value":"url"},model:{value:t.record.brand_url,callback:function(e){t.$set(t.record,"brand_url",e)},expression:"record.brand_url"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{autocomplete:"off",dense:"",items:t.countries,label:"Country Of Origin","item-text":"name","item-value":"url"},model:{value:t.record.country,callback:function(e){t.$set(t.record,"country",e)},expression:"record.country"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Alcohol Percentage",type:"text",autocomplete:"off",dense:""},model:{value:t.record.alcohol,callback:function(e){t.$set(t.record,"alcohol",e)},expression:"record.alcohol"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{text:"",color:"accent"},nativeOn:{click:function(e){t.dialog=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Pricing ")],1),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Volume")]),a("th",{staticClass:"text-left"},[t._v("Price")]),a("th",{staticClass:"text-left"},[t._v("Action")])])]),a("tbody",t._l(t.prices,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.volume))]),a("td",[t._v(t._s(e.price))]),a("td",[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteItem(r)}}},[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-close")])],1)],1)])})),0)]},proxy:!0}])})],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("label",[t._v("Cover Image")]),a("file-upload",{on:{image:t.setCoverImage}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-img",{attrs:{src:t.serverUrl+"/uploads/products/"+t.record.cover_image}})],1),a("v-col",{attrs:{cols:"4"}},[t.coverImageUrl?a("img",{staticStyle:{width:"350px",height:"350px",padding:"20px"},attrs:{src:t.coverImageUrl}}):t._e()])],1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:"create"==t.pageStatus,expression:"pageStatus == 'create'"}]},[a("v-col",{attrs:{cols:"12"}},[a("label",[t._v("Other Images")]),a("multi-upload",{on:{collection:t.setImages,urls:t.setImagesUrls}})],1),t._l(t.imagesUrls,(function(e,r){return a("v-col",{key:r,attrs:{cols:"3"}},[e?a("img",{staticStyle:{width:"350px",height:"250 padding: 20px"},attrs:{src:e}}):t._e(),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.removeOtherImage(r)}}},[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-close")])],1)],1)}))],2),a("v-row",{directives:[{name:"show",rawName:"v-show",value:"view"==t.pageStatus,expression:"pageStatus == 'view'"}]},t._l(t.record.otherImages,(function(e,r){return a("v-col",{key:r,attrs:{cols:"4"}},[a("v-img",{attrs:{src:t.serverUrl+"/uploads/products/"+e}})],1)})),1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Meta Title",type:"text",autocomplete:"off",dense:""},model:{value:t.record.meta_title,callback:function(e){t.$set(t.record,"meta_title",e)},expression:"record.meta_title"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{label:"Meta Description",type:"text",autocomplete:"off",dense:""},model:{value:t.record.meta_desc,callback:function(e){t.$set(t.record,"meta_desc",e)},expression:"record.meta_desc"}})],1),a("v-col",{attrs:{cols:"12"}},[a("html-editor",{ref:"footer_content"})],1)],1),a("v-row",{staticStyle:{"margin-top":"70px"}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"create"==t.action,expression:"action == 'create'"}],attrs:{color:"accent",loading:t.loader},on:{click:t.sendData}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("Save ")],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"view"==t.action,expression:"action == 'view'"}],attrs:{color:"accent",loading:t.loader},on:{click:t.sendData}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("Update ")],1)],1)],1),a("v-row",[a("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",color:"accent",dark:""}},[a("v-toolbar-title",[t._v("Create Pricing")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"subtitle-2 text--primary",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Volume",outlined:"",dense:""},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Price",outlined:"",dense:""},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.addPricing}},[t._v("Add")])],1)],1)],1)],1)],1)],1)],1),a("snackbar",{ref:"snackbar"})],1)},o=[],c=a("2909"),s=a("5530"),i=(a("a434"),a("99af"),a("a15b"),a("ac1f"),a("1276"),a("498a"),a("5319"),a("b0c0"),a("159b"),a("d3b7"),a("3ca3"),a("ddb0"),a("2f62")),n=a("6b26"),l=a("2d87"),d=a("17a4"),u={computed:Object(s["a"])({},Object(i["b"])(["serverUrl"])),components:{FileUpload:n["a"],MultiUpload:d["a"],HtmlEditor:l["a"]},props:{action:{type:String},initial:{type:Object}},data:function(){return{priceItem:{},volume:null,price:null,prices:[],dialog:!1,offer:!1,trending:!1,clearance:!1,sizes:[],record:{},pageStatus:"",loader:!1,coverImage:null,images:[],imagesUrls:[],coverImageUrl:null,categories:[],countries:[],subcategories:[],brands:[]}},watch:{action:{handler:"setAction",immediate:!0},initial:{handler:"setInitial",immediate:!0}},methods:{initializeContent:function(){var t=this;setTimeout((function(){t.record.content&&""!==t.record.content&&t.$refs.footer_content&&t.$refs.footer_content.setContent(t.record.content)}),100)},setAction:function(t){this.pageStatus=t},setInitial:function(t){this.record=Object(s["a"])({},t),this.initializeContent(),"view"==this.action&&(this.autofillRecords(t.category_url),this.prices=t.prices)},deleteItem:function(t){this.prices.splice(t,1)},addPricing:function(){var t={volume:this.volume,price:this.price},e=[];e.push(t),this.prices=[].concat(Object(c["a"])(this.prices),e),this.dialog=!1,this.volume=null,this.price=null},changeOffer:function(t){var e=this;if("view"==this.action){var a={offer:t},r="/products/update/section/".concat(this.record._id),o=this;this.$store.dispatch("expressPut",{url:r,data:a}).then((function(t){t.state?location.reload():o.$refs.snackbar.show(t.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))}},changeTrending:function(t){var e=this;if("view"==this.action){var a={trending:t},r="/products/update/section/".concat(this.record._id),o=this;this.$store.dispatch("expressPut",{url:r,data:a}).then((function(t){t.state?location.reload():o.$refs.snackbar.show(t.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))}},changeClearance:function(t){var e=this;if("view"==this.action){var a={clearance:t},r="/products/update/section/".concat(this.record._id),o=this;this.$store.dispatch("expressPut",{url:r,data:a}).then((function(t){t.state?location.reload():o.$refs.snackbar.show(t.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))}},sendData:function(){var t=this.$refs.footer_content.getContent(),e=new FormData,a=this.record.name.toLowerCase().replace(/[^\w\s]/gi,"").trim().split(" ").join("-");this.record.url=a,this.record.prices=this.prices,console.log(this.record,"record"),e.append("coverImage",this.coverImage),e.append("giftpack",!0),e.append("content",t),e.append("introText",this.introText),e.append("product",JSON.stringify(this.record)),e.append("actionStatus","view");var r=this.images;r.forEach((function(t){var a=t;e.append("otherImages",a)})),this.loader=!0,this.$emit("data",e)},setCoverImage:function(t){var e=t.image,a=t.imageUrl;this.coverImage=e,this.coverImageUrl=a},setImages:function(t){this.images=t},setImagesUrls:function(t){this.imagesUrls=t},removeOtherImage:function(t){this.imagesUrls.splice(t,1),this.images.splice(t,1)},getSizes:function(){var t=this,e=this;this.$store.dispatch("get","/sizes").then((function(a){a.state?e.sizes=a.records:t.$refs.snackbar.show(a.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))},getCategories:function(){var t=this,e=this;this.$store.dispatch("get","/categories").then((function(a){a.state?e.categories=a.records:t.$refs.snackbar.show(a.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))},autofillRecords:function(t){var e=this,a=this;this.$store.dispatch("get","/categories/autofill/data/".concat(t)).then((function(t){t.state?(a.subcategories=t.subcategories,a.brands=t.brands):e.$refs.snackbar.show(t.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))},getCountries:function(){var t=this,e=this;this.$store.dispatch("get","/countries").then((function(a){a.state?e.countries=a.records:t.$refs.snackbar.show(a.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))}},created:function(){Promise.all([this.getCategories(),this.getSizes(),this.getCountries()])}},v=u,f=a("2877"),m=a("6544"),h=a.n(m),p=a("c6a6"),g=a("8336"),b=a("b0af"),w=a("99d9"),x=a("62ad"),_=a("a523"),k=a("169a"),$=a("ce7e"),y=a("132d"),I=a("adda"),C=a("0fd9"),V=a("1f4f"),S=a("2fa4"),O=a("b73d"),T=a("8654"),U=a("a844"),P=a("71d9"),D=a("2a7f"),j=Object(f["a"])(v,r,o,!1,null,"2e1570f5",null);e["a"]=j.exports;h()(j,{VAutocomplete:p["a"],VBtn:g["a"],VCard:b["a"],VCardText:w["c"],VCol:x["a"],VContainer:_["a"],VDialog:k["a"],VDivider:$["a"],VIcon:y["a"],VImg:I["a"],VRow:C["a"],VSimpleTable:V["a"],VSpacer:S["a"],VSwitch:O["a"],VTextField:T["a"],VTextarea:U["a"],VToolbar:P["a"],VToolbarTitle:D["a"]})}}]);
//# sourceMappingURL=chunk-12d7cadd.bb5bad7f.js.map
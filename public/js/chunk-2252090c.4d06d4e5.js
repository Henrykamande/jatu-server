(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2252090c"],{"0e29":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{color:"red",label:"On Offer"},on:{change:e.changeOffer},model:{value:e.record.offer,callback:function(t){e.$set(e.record,"offer",t)},expression:"record.offer"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{color:"indigo",label:"Trending"},on:{change:e.changeTrending},model:{value:e.record.trending,callback:function(t){e.$set(e.record,"trending",t)},expression:"record.trending"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{color:"orange",label:"Clearance"},on:{change:e.changeClearance},model:{value:e.record.clearance,callback:function(t){e.$set(e.record,"clearance",t)},expression:"record.clearance"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Description",type:"text",autocomplete:"off",dense:""},model:{value:e.record.name,callback:function(t){e.$set(e.record,"name",t)},expression:"record.name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Alt Tag",type:"text",autocomplete:"off",dense:""},model:{value:e.record.alt_tag,callback:function(t){e.$set(e.record,"alt_tag",t)},expression:"record.alt_tag"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{autocomplete:"off",dense:"",items:e.categories,label:"Category","item-text":"name","item-value":"url"},on:{change:function(t){return e.autofillRecords(e.record.category_url)}},model:{value:e.record.category_url,callback:function(t){e.$set(e.record,"category_url",t)},expression:"record.category_url"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{autocomplete:"off",dense:"",items:e.subcategories,label:"Sub Category","item-text":"name","item-value":"url"},on:{change:function(t){return e.filterBrands(e.record.subcategory_url)}},model:{value:e.record.subcategory_url,callback:function(t){e.$set(e.record,"subcategory_url",t)},expression:"record.subcategory_url"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{autocomplete:"off",dense:"",items:e.brands,label:"Brand","item-text":"name","item-value":"url"},model:{value:e.record.brand_url,callback:function(t){e.$set(e.record,"brand_url",t)},expression:"record.brand_url"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{autocomplete:"off",dense:"",items:e.countries,label:"Country Of Origin","item-text":"name","item-value":"url"},model:{value:e.record.country,callback:function(t){e.$set(e.record,"country",t)},expression:"record.country"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Alcohol Percentage",type:"text",autocomplete:"off",dense:""},model:{value:e.record.alcohol,callback:function(t){e.$set(e.record,"alcohol",t)},expression:"record.alcohol"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{text:"",color:"accent"},nativeOn:{click:function(t){e.dialog=!0}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("Pricing ")],1),a("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Volume")]),a("th",{staticClass:"text-left"},[e._v("Price")]),a("th",{staticClass:"text-left"},[e._v("Action")])])]),a("tbody",e._l(e.prices,(function(t,r){return a("tr",{key:r},[a("td",[e._v(e._s(t.volume))]),a("td",[e._v(e._s(t.price))]),a("td",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteItem(r)}}},[a("v-icon",{attrs:{color:"red"}},[e._v("mdi-close")])],1)],1)])})),0)]},proxy:!0}])})],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("label",[e._v("Cover Image")]),a("file-upload",{on:{image:e.setCoverImage}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:"view"==e.pageStatus,expression:"pageStatus == 'view'"}],attrs:{cols:"4"}},[a("v-img",{attrs:{src:e.serverUrl+"/uploads/products/"+e.record.cover_image}})],1),a("v-col",{attrs:{cols:"4"}},[e.coverImageUrl?a("img",{staticStyle:{width:"350px",height:"350px",padding:"20px"},attrs:{src:e.coverImageUrl}}):e._e()])],1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:"create"==e.pageStatus,expression:"pageStatus == 'create'"}]},[a("v-col",{attrs:{cols:"12"}},[a("label",[e._v("Other Images")]),a("multi-upload",{on:{collection:e.setImages,urls:e.setImagesUrls}})],1),e._l(e.imagesUrls,(function(t,r){return a("v-col",{key:r,attrs:{cols:"3"}},[t?a("img",{staticStyle:{width:"350px",height:"250 padding: 20px"},attrs:{src:t}}):e._e(),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.removeOtherImage(r)}}},[a("v-icon",{attrs:{color:"red"}},[e._v("mdi-close")])],1)],1)}))],2),a("v-row",{directives:[{name:"show",rawName:"v-show",value:"view"==e.pageStatus,expression:"pageStatus == 'view'"}]},e._l(e.record.otherImages,(function(t,r){return a("v-col",{key:r,attrs:{cols:"4"}},[a("v-img",{attrs:{src:e.serverUrl+"/uploads/products/"+t}})],1)})),1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Meta Title",type:"text",autocomplete:"off",dense:""},model:{value:e.record.meta_title,callback:function(t){e.$set(e.record,"meta_title",t)},expression:"record.meta_title"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{label:"Meta Description",type:"text",autocomplete:"off",dense:""},model:{value:e.record.meta_desc,callback:function(t){e.$set(e.record,"meta_desc",t)},expression:"record.meta_desc"}})],1),a("v-col",{attrs:{cols:"12"}},[a("html-editor",{ref:"footer_content"})],1)],1),a("v-row",{staticStyle:{"margin-top":"70px"}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"create"==e.action,expression:"action == 'create'"}],attrs:{color:"accent",loading:e.loader},on:{click:e.sendData}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-content-save")]),e._v("Save ")],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"view"==e.action,expression:"action == 'view'"}],attrs:{color:"accent",loading:e.loader},on:{click:e.sendData}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-content-save")]),e._v("Update ")],1)],1)],1),a("v-row",[a("v-dialog",{attrs:{"max-width":"650px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",color:"accent",dark:""}},[a("v-toolbar-title",[e._v("Create Pricing")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"subtitle-2 text--primary",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Volume",outlined:"",dense:""},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Price",outlined:"",dense:""},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"primary"},on:{click:e.addPricing}},[e._v("Add")])],1)],1)],1)],1)],1)],1)],1),a("snackbar",{ref:"snackbar"})],1)},o=[],s=a("2909"),c=a("5530"),i=(a("a434"),a("99af"),a("a15b"),a("ac1f"),a("1276"),a("498a"),a("5319"),a("b0c0"),a("159b"),a("d3b7"),a("3ca3"),a("ddb0"),a("2f62")),n=a("6b26"),l=a("2d87"),d=a("17a4"),u={computed:Object(c["a"])({},Object(i["b"])(["serverUrl"])),components:{FileUpload:n["a"],MultiUpload:d["a"],HtmlEditor:l["a"]},props:{action:{type:String},initial:{type:Object}},data:function(){return{priceItem:{},volume:null,price:null,prices:[],dialog:!1,offer:!1,trending:!1,clearance:!1,sizes:[],record:{},pageStatus:"",loader:!1,coverImage:null,images:[],imagesUrls:[],coverImageUrl:null,categories:[],countries:[],subcategories:[],brands:[]}},watch:{action:{handler:"setAction",immediate:!0},initial:{handler:"setInitial",immediate:!0}},methods:{initializeContent:function(){var e=this;setTimeout((function(){e.record.content&&""!==e.record.content&&e.$refs.footer_content&&e.$refs.footer_content.setContent(e.record.content)}),100)},setAction:function(e){this.pageStatus=e},setInitial:function(e){this.record=Object(c["a"])({},e),this.initializeContent(),"view"==this.action&&(this.autofillRecords(e.category_url),this.prices=e.prices)},deleteItem:function(e){this.prices.splice(e,1)},addPricing:function(){var e={volume:this.volume,price:this.price},t=[];t.push(e),this.prices=[].concat(Object(s["a"])(this.prices),t),this.dialog=!1,this.volume=null,this.price=null},changeOffer:function(e){var t=this;if("view"==this.action){var a={offer:e},r="/products/update/section/".concat(this.record._id),o=this;this.$store.dispatch("expressPut",{url:r,data:a}).then((function(e){e.state?location.reload():o.$refs.snackbar.show(e.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))}},changeTrending:function(e){var t=this;if("view"==this.action){var a={trending:e},r="/products/update/section/".concat(this.record._id),o=this;this.$store.dispatch("expressPut",{url:r,data:a}).then((function(e){e.state?location.reload():o.$refs.snackbar.show(e.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))}},changeClearance:function(e){var t=this;if("view"==this.action){var a={clearance:e},r="/products/update/section/".concat(this.record._id),o=this;this.$store.dispatch("expressPut",{url:r,data:a}).then((function(e){e.state?location.reload():o.$refs.snackbar.show(e.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))}},sendData:function(){var e=this.$refs.footer_content.getContent(),t=new FormData,a=this.record.name.toLowerCase().replace(/[^\w\s]/gi,"").trim().split(" ").join("-");this.record.url=a,this.record.prices=this.prices,console.log(this.record,"record"),t.append("coverImage",this.coverImage),t.append("content",e),t.append("introText",this.introText),t.append("product",JSON.stringify(this.record)),t.append("actionStatus","view");var r=this.images;r.forEach((function(e){var a=e;t.append("otherImages",a)})),this.loader=!0,this.$emit("data",t)},setCoverImage:function(e){var t=e.image,a=e.imageUrl;this.coverImage=t,this.coverImageUrl=a},setImages:function(e){this.images=e},setImagesUrls:function(e){this.imagesUrls=e},removeOtherImage:function(e){this.imagesUrls.splice(e,1),this.images.splice(e,1)},getSizes:function(){var e=this,t=this;this.$store.dispatch("get","/sizes").then((function(a){a.state?t.sizes=a.records:e.$refs.snackbar.show(a.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))},getCategories:function(){var e=this,t=this;this.$store.dispatch("get","/categories").then((function(a){a.state?t.categories=a.records:e.$refs.snackbar.show(a.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))},autofillRecords:function(e){var t=this,a=this;this.$store.dispatch("get","/categories/autofill/data/".concat(e)).then((function(e){e.state?(a.subcategories=e.subcategories,a.brands=e.brands):t.$refs.snackbar.show(e.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))},filterBrands:function(e){var t=this,a=this;this.$store.dispatch("get","/categories/autofill/filter/brands/".concat(e)).then((function(e){e.state?a.brands=e.brands:t.$refs.snackbar.show(e.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))},getCountries:function(){var e=this,t=this;this.$store.dispatch("get","/countries").then((function(a){a.state?t.countries=a.records:e.$refs.snackbar.show(a.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))}},created:function(){Promise.all([this.getCategories(),this.getSizes(),this.getCountries()])}},v=u,f=a("2877"),h=a("6544"),m=a.n(h),p=a("c6a6"),g=a("8336"),b=a("b0af"),w=a("99d9"),x=a("62ad"),_=a("a523"),k=a("169a"),$=a("ce7e"),y=a("132d"),I=a("adda"),C=a("0fd9"),V=a("1f4f"),S=a("2fa4"),O=a("b73d"),T=a("8654"),U=a("a844"),P=a("71d9"),D=a("2a7f"),j=Object(f["a"])(v,r,o,!1,null,"59ec81fd",null);t["a"]=j.exports;m()(j,{VAutocomplete:p["a"],VBtn:g["a"],VCard:b["a"],VCardText:w["c"],VCol:x["a"],VContainer:_["a"],VDialog:k["a"],VDivider:$["a"],VIcon:y["a"],VImg:I["a"],VRow:C["a"],VSimpleTable:V["a"],VSpacer:S["a"],VSwitch:O["a"],VTextField:T["a"],VTextarea:U["a"],VToolbar:P["a"],VToolbarTitle:D["a"]})},2034:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",[a("v-toolbar",{attrs:{color:"toolbarColor",dense:"",dark:""}},[a("v-toolbar-title",[e._v("Product Details")]),a("v-spacer"),a("v-btn",{attrs:{text:"",to:"/products"}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-left")]),e._v("Back")],1)],1),a("v-card-text",[a("editor",{attrs:{action:e.action,initial:e.dataItem},on:{data:e.save}})],1)],1),a("snackbar",{ref:"snackbar"})],1)},o=[],s=a("0e29"),c={components:{Editor:s["a"]},data:function(){return{action:"view",url:null,dataItem:{}}},watch:{"$route.params.url":{handler:"setUrl",immediate:!0}},methods:{setUrl:function(e){this.url=e},save:function(e){var t=this,a="/products/edit/".concat(this.dataItem._id),r=this;this.$store.dispatch("expressPut",{url:a,data:e}).then((function(e){e.state?location.reload():r.$refs.snackbar.show(e.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))},getData:function(){var e=this,t="/products/".concat(this.url),a=this;this.$store.dispatch("expressGet",t).then((function(e){e.state?a.dataItem=e.record:a.$refs.snackbar.show(e.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))}},created:function(){this.getData()}},i=c,n=a("2877"),l=a("6544"),d=a.n(l),u=a("8336"),v=a("b0af"),f=a("99d9"),h=a("a523"),m=a("132d"),p=a("2fa4"),g=a("71d9"),b=a("2a7f"),w=Object(n["a"])(i,r,o,!1,null,"1e904fec",null);t["default"]=w.exports;d()(w,{VBtn:u["a"],VCard:v["a"],VCardText:f["c"],VContainer:h["a"],VIcon:m["a"],VSpacer:p["a"],VToolbar:g["a"],VToolbarTitle:b["a"]})}}]);
//# sourceMappingURL=chunk-2252090c.4d06d4e5.js.map
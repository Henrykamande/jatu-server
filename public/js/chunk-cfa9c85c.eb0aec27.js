(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cfa9c85c"],{"1f4f":function(t,e,a){"use strict";var s=a("5530"),o=(a("a9e3"),a("8b37"),a("80d2")),i=a("7560"),r=a("58df");e["a"]=Object(r["a"])(i["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(s["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(o["h"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"8b37":function(t,e,a){},d4d2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",[a("v-toolbar",{attrs:{color:"toolbarColor",dense:"",dark:""}},[a("v-toolbar-title",[t._v("Package Details")]),a("v-spacer"),a("v-btn",{attrs:{text:"",to:"/packages"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left")]),t._v("Back")],1)],1),a("v-card-text",[a("editor",{attrs:{action:t.action,initial:t.dataItem},on:{data:t.save}})],1)],1),a("snackbar",{ref:"snackbar"})],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-text-field",{attrs:{label:"Title",type:"text",autocomplete:"off",outlined:"",dense:""},model:{value:t.record.title,callback:function(e){t.$set(t.record,"title",e)},expression:"record.title"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Price",type:"text",autocomplete:"off",outlined:"",dense:""},model:{value:t.record.price,callback:function(e){t.$set(t.record,"price",e)},expression:"record.price"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"accent",text:""},on:{click:function(e){t.dialog=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Package Benefit ")],1)],1),a("v-col",{attrs:{cols:"6"}},["create"==t.action?a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Item")]),a("th",{staticClass:"text-left"},[t._v("Action")])])]),a("tbody",t._l(t.benefits,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e))]),a("td",[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteItem(s)}}},[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-close")])],1)],1)])})),0)]},proxy:!0}],null,!1,170994741)}):a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Item")])])]),a("tbody",t._l(t.record.benefits,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e))])])})),0)]},proxy:!0}])})],1),a("v-col",{attrs:{cols:"12"}},[a("html-editor",{ref:"footer_content"})],1)],1),a("v-row",{staticStyle:{"margin-top":"50px"}},[a("v-col",{attrs:{cols:"12"}},[a("label",[t._v("Cover Image")]),a("file-upload",{on:{image:t.setCoverImage}})],1),a("v-col",{attrs:{cols:"12"}},[t.coverImageUrl?a("img",{staticStyle:{height:"350px",padding:"20px"},attrs:{src:t.coverImageUrl}}):t._e()])],1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:"view"==t.action,expression:"action == 'view'"}]},[a("v-col",{attrs:{cols:"6"}},[a("v-img",{staticStyle:{height:"350px","margin-top":"50px"},attrs:{src:t.serverUrl+"/uploads/packages/"+t.record.coverImage}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"create"==t.action,expression:"action == 'create'"}],attrs:{color:"accent",loading:t.loader},on:{click:t.sendData}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("Save ")],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"view"==t.action,expression:"action == 'view'"}],attrs:{color:"accent",loading:t.loader},on:{click:t.sendData}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update ")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",color:"primary",dark:""}},[a("v-toolbar-title",[t._v("Package Benefit")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Benefit",outlined:"",dense:""},model:{value:t.benefit,callback:function(e){t.benefit=e},expression:"benefit"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"accent"},on:{click:t.addBenefit}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Add ")],1)],1)],1)],1)],1)],1)],1),a("snackbar",{ref:"snackbar"})],1)},r=[],n=a("2909"),c=a("5530"),l=(a("a434"),a("99af"),a("a15b"),a("ac1f"),a("1276"),a("498a"),a("5319"),a("159b"),a("2f62")),d=a("6b26"),v=a("2d87"),f={computed:Object(c["a"])({},Object(l["b"])(["serverUrl"])),components:{FileUpload:d["a"],HtmlEditor:v["a"]},props:{action:{type:String},initial:{type:Object}},data:function(){return{sizes:[{name:"1 Acre"},{name:"2 Acres"}],dialog:!1,record:{},pageStatus:"",loader:!1,coverImage:null,images:[],imagesUrls:[],coverImageUrl:null,benefit:null,benefits:[]}},watch:{action:{handler:"setAction",immediate:!0},initial:{handler:"setInitial",immediate:!0}},methods:{initializeContent:function(){var t=this;setTimeout((function(){t.record.details&&""!==t.record.details&&t.$refs.footer_content&&t.$refs.footer_content.setContent(t.record.details)}),100)},deleteItem:function(t){this.benefits.splice(t,1)},addBenefit:function(){var t=[];t.push(this.benefit),this.benefits=[].concat(Object(n["a"])(this.benefits),t),this.dialog=!1,this.benefit=null},setAction:function(t){this.pageStatus=t},setInitial:function(t){this.record=Object(c["a"])({},t),this.initializeContent()},sendData:function(){var t=this.$refs.footer_content.getContent(),e=new FormData,a=this.record.title.toLowerCase().replace(/[^\w\s]/gi,"").trim().split(" ").join("-");this.record.url=a,e.append("coverImage",this.coverImage),e.append("details",t),e.append("tourPackage",JSON.stringify(this.record)),e.append("actionStatus","create");var s=this.benefits;s.forEach((function(t){var a=t;e.append("benefits",a)})),this.loader=!0,this.$emit("data",e)},setCoverImage:function(t){var e=t.image,a=t.imageUrl;this.coverImage=e,this.coverImageUrl=a},setImages:function(t){this.images=t},setImagesUrls:function(t){this.imagesUrls=t},removeOtherImage:function(t){this.imagesUrls.splice(t,1),this.images.splice(t,1)}},created:function(){}},u=f,h=a("2877"),m=a("6544"),p=a.n(m),b=a("8336"),g=a("b0af"),x=a("99d9"),w=a("62ad"),_=a("a523"),k=a("169a"),I=a("132d"),$=a("adda"),C=a("0fd9"),V=a("1f4f"),y=a("2fa4"),S=a("8654"),U=a("71d9"),O=a("2a7f"),T=Object(h["a"])(u,i,r,!1,null,"7f9cbc31",null),j=T.exports;p()(T,{VBtn:b["a"],VCard:g["a"],VCardText:x["c"],VCol:w["a"],VContainer:_["a"],VDialog:k["a"],VIcon:I["a"],VImg:$["a"],VRow:C["a"],VSimpleTable:V["a"],VSpacer:y["a"],VTextField:S["a"],VToolbar:U["a"],VToolbarTitle:O["a"]});var B={components:{Editor:j},data:function(){return{action:"view",url:null,dataItem:{}}},watch:{"$route.params.url":{handler:"setUrl",immediate:!0}},methods:{setUrl:function(t){var e=this;this.url=t;var a="/packages/".concat(t),s=this;this.$store.dispatch("expressGet",a).then((function(t){t.state?s.dataItem=t.record:s.$refs.snackbar.show(t.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))},save:function(t){var e=this,a="/packages/".concat(this.dataItem._id),s=this;this.$store.dispatch("expressPut",{url:a,data:t}).then((function(t){t.state?location.reload():s.$refs.snackbar.show(t.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))}},created:function(){}},E=B,A=Object(h["a"])(E,s,o,!1,null,"71309f8e",null);e["default"]=A.exports;p()(A,{VBtn:b["a"],VCard:g["a"],VCardText:x["c"],VContainer:_["a"],VIcon:I["a"],VSpacer:y["a"],VToolbar:U["a"],VToolbarTitle:O["a"]})}}]);
//# sourceMappingURL=chunk-cfa9c85c.eb0aec27.js.map